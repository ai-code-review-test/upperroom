# 프로젝트 스타일 가이드 (styleguide.md)

> ⚠️ 이 문서는 반드시 **한국어로** 작성 및 유지되어야 합니다.

## 📦 기술 스택

- JavaScript (ES2020 이상)
- Express.js
- Mongoose
- EJS
- Node.js (v18 이상)

---

## ✅ 일반 코딩 규칙

- **세미콜론(;) 반드시 사용**
- **탭 대신 2칸 들여쓰기**
- `console.log`는 개발 중 디버깅 외에는 금지 (배포 전 제거)
- `var` 대신 `const`, `let` 사용
- 불필요한 주석, 미사용 코드/변수는 제거
- 주석은 **한국어**로 작성

---

## 📂 폴더 및 파일 구조

/src
/routes
/controllers
/models
/views
/middlewares
/utils

- 라우터(`routes`)와 컨트롤러(`controllers`)는 1:1 매핑
- 모델(`models`)은 mongoose 스키마별로 분리
- 뷰(`views`)는 EJS 파일로 구성하며 폴더 별 템플릿 정리

---

## 🧠 네이밍 컨벤션

| 항목 | 형식 |
|------|------|
| 변수, 함수 | camelCase |
| 클래스, 생성자 | PascalCase |
| 파일, 폴더 | kebab-case |
| Mongoose 모델 이름 | PascalCase (단수형) |

---

## 🧪 예외 처리 & 검증

- try/catch는 비동기 함수에서 필수
- 입력값 검증은 미들웨어 또는 컨트롤러 초입부에서 처리
- 에러 메시지는 사용자 친화적으로 (예: `"이메일 형식이 잘못되었습니다."`)
- 서버 로그와 클라이언트 메시지는 구분해서 관리

---

## 🧾 EJS 템플릿 가이드

- 템플릿에서 가능한 로직 최소화 (`<%= %>` 안에 복잡한 연산 금지)
- 뷰 데이터는 컨트롤러에서 최대한 정제해서 전달
- 레이아웃(`layout.ejs`)과 부분 템플릿(`partials/`) 적극 활용

---

## 📦 Mongoose 모델 정의

- `_id`, `createdAt`, `updatedAt`은 공통으로 사용
- 스키마 옵션에 `{ timestamps: true }` 항상 포함
- `.lean()`을 사용해 성능 최적화 고려
- 복잡한 쿼리는 모델의 static method 또는 helper로 분리

---

## 🧹 기타 설정 및 도구

- Lint 도구: `eslint` + `prettier` 사용 권장
- `.env` 파일로 환경 분리 (dotenv)
- Git 커밋 메시지: `[기능] ~`, `[수정] ~` 형태로 작성

---

## 👥 협업 시 주의사항

- PR은 반드시 리뷰 후 머지
- 브랜치 네이밍: `feature/`, `fix/`, `hotfix/` 등 접두어 사용
- 코드리뷰는 기능뿐 아니라 **스타일 가이드 준수 여부도 확인**

---

## ❗ 반드시 지켜야 할 원칙

- 팀원이 이해할 수 있도록 명확하고 예측 가능한 코드 작성
- 무조건 **한국어로 주석 및 문서 작성**
- 본 가이드에 없더라도 일관된 스타일 유지

---